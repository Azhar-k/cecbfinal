<html>
    <head>
        <title>Print PDF using inline iFrame</title>

    </head>
    <body>

      
        <p>
            <input type="button" id="bt" onclick="imgprint('{{p1}}')" value="Print" />
        </p>
        <iframe 
            src="{{p1}}" id="myFrame" 
            frameborder="0" style="border:0;" 
            width="500" height="500">
        </iframe>
        
          <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
         <script type="text/javascript">
            var array = "{{p1}}".split(".");
            var ftype= array[array.length-1];
            console.log(array);
            if(ftype=="pdf")
            {
                $('#bt').remove();
                
                
            } 

        </script>


    </body>
    <script>
        function imgprint(imagePath) {
    var width = $(window).width() * 0.9;
    var height = $(window).height() * 0.9;
    var content = '<!DOCTYPE html>' + 
                  '<html>' +
                  '<head><title></title></head>' +
                  '<body onload="window.focus(); window.print(); window.close();">' + 
                  '<img src="' + imagePath + '" style="width: 100%;" />' +
                  '</body>' +
                  '</html>';
    var options = "toolbar=no,location=no,directories=no,menubar=no,scrollbars=yes,width=" + width + ",height=" + height;
    var printWindow = window.open('', 'print', options);
    printWindow.document.open();
    printWindow.document.write(content);
    printWindow.document.close();
    printWindow.focus();
}

        
        function print(){
            var objFra = document.getElementById('myFrame');
            objFra.contentWindow.focus();
            objFra.contentWindow.print();
           
             
            //window.close()
        
    
        /*var frame = document.getElementById('myFrame');;
        var external_doc = new Blob(['<html><body><iframe src="{{p1}}" id="mFrame" frameborder="0" style="border:0;" width="500" height="500"></iframe></body></html>'], {
            type: 'text/html'
            });
            frame.onload = function() {
                  try {
                    this.contentWindow && this.contentWindow.print();
                    return;
                  } catch (e) {}
                  console.error('in a protective iframe?');
                };
            frame.src = URL.createObjectURL(external_doc);
            //document.body.appendChild(frame);*/
        }
      // THIS VB SCRIP REMOVES THE PRINT DIALOG BOX AND PRINTS TO YOUR DEFAULT PRINTER
            
    </script>


</html>